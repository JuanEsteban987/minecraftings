<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>2D Minecraft RPG</title>
    <script src="/socket.io/socket.io.js"></script>
    <style>
        body { margin: 0; overflow: hidden; background: #4a90e2; font-family: sans-serif; }
        canvas { display: block; }
        #menu-inicio { 
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            background: rgba(30, 30, 30, 0.95); padding: 30px; border: 4px solid #fff;
            color: white; z-index: 100; text-align: center; box-shadow: 10px 10px 0px rgba(0,0,0,0.5);
        }
        input { padding: 10px; margin: 10px; width: 220px; display: block; background: #000; color: #0f0; border: 1px solid #555; }
        button { padding: 12px 24px; background: #4CAF50; color: white; border: none; cursor: pointer; font-weight: bold; width: 100%; }
        #hotbar {
            position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
            display: flex; gap: 10px; background: rgba(0,0,0,0.6); padding: 10px; border-radius: 5px;
        }
        .slot { width: 45px; height: 45px; border: 3px solid #555; cursor: pointer; }
        .slot.selected { border-color: #ffca28; transform: translateY(-5px); }
    </style>
</head>
<body>

    <div id="menu-inicio">
        <h2 style="color: #ffca28;">MINECRAFT 2D</h2>
        <input type="text" id="realm-input" placeholder="Nombre del Reino" value="reino1">
        <input type="text" id="name-input" placeholder="Tu Nombre" value="Steve">
        <button id="btn-entrar">ENTRAR AL JUEGO</button>
    </div>

    <div id="hotbar">
        <div class="slot selected" style="background:#795548" data-id="1"></div>
        <div class="slot" style="background:#4CAF50" data-id="2"></div>
        <div class="slot" style="background:#9e9e9e" data-id="3"></div>
        <div class="slot" style="background:#5D4037" data-id="4"></div>
        <div class="slot" style="background:#ffd600" data-id="6"></div>
    </div>

    <canvas id="gameCanvas"></canvas>

    <script src="game.js"></script>

    <script>
        // Manejo de la hotbar
        document.querySelectorAll('.slot').forEach(slot => {
            slot.onclick = function() {
                window.selectedBlock = parseInt(this.dataset.id);
                document.querySelectorAll('.slot').forEach(s => s.classList.remove('selected'));
                this.classList.add('selected');
            };
        });

        // Manejo del botón entrar
        document.getElementById('btn-entrar').onclick = function() {
            const reino = document.getElementById('realm-input').value;
            const nombre = document.getElementById('name-input').value;
            
            if (window.funcionesJuego && window.funcionesJuego.unirse) {
                window.funcionesJuego.unirse(reino, nombre);
                document.getElementById('menu-inicio').style.display = 'none';
            } else {
                alert("El archivo game.js aún no ha cargado. Espera un segundo.");
            }
        };
    </script>
</body>
</html>
